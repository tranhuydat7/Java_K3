-- // Bảng thông tin cửa hàn
create table stores (
  id int auto_increment primary key,
  `name` varchar(255), -- // tên cửa hàng
  address varchar(255),-- // địa chỉ cụ thể của cửa hàng
  district_id int,-- // ID quận, huyện
  image varchar(255),-- // ảnh cửa hàng
  `description` text,-- // mô tả cửa hàng
  created_at timestamp, -- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
-- // Bảng thông tin khách hàng
create table customers (
  id int auto_increment primary key,
  `name` varchar(255),-- // tên khách hàng
  email varchar(255),-- // mail khách hàng
  phone varchar(11),-- // số điện thoại khách hàng
  address varchar(255),-- // địa chỉ khách hàng
  birthday date,-- // ngày sinh nhật khách hàng
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
-- // Bảng thông tin người dùng hệ thống (admin, quản lý, giám đốc, nhân viên...)
create table users (
  id int auto_increment primary key,
  `code` int(6),-- // mã nhân viên
  `name` varchar(255),-- // tên nhân viên
  `password` varchar(255),-- // mật khẩu đăng nhập
  email varchar(255),-- // mail nhân viên
  phone varchar(11),-- // số điện thoại nhân viên
  avatar varchar(255),-- // ảnh đại diện nhân viên
  role_id int,-- // ID quyền
  store_id int,-- // ID cửa hàng
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
-- // Bảng loại mặt hàng (đồ ăn, đồ uống...)
create table categories (
  id int auto_increment primary key,
  `name` varchar(255),-- // tên loại mặt hàng
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);

-- // Bảng thông tin mặt hàng
create table products (
  id int auto_increment primary key,
  name varchar(255),-- // tên sản phẩm
  description text,-- // mô tả
  category_id int,-- // ID loại mặt hàng
  image varchar(255),-- // ảnh mặt hàng 
  price double,-- // giá cả mặt hàng
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
-- // Bảng thông tin mặt hàng của từng cửa hàng
create table store_products (
  id int auto_increment primary key,
  store_id int,-- // ID cửa hàng
  product_id int,-- // ID mặt hàng
  status int,-- // trạng thái mặt hàng (0: hết hàng, 1: còn hàng )
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
create table orders (
  id int auto_increment primary key,
  store_id int,-- // ID cửa hàng
  customer_id int,-- // ID khách hàng
  promotion_id int,-- // ID ưu đãi
  shipping_unit_id int,-- // ID đơn vị vận chuyển
  price double,-- // giá đơn hàng
  payment_method int,-- // hình thức thanh toán (1: tiền mặt, 2: thẻ ngân hàng, 3: thẻ tín dụng)
  status int,-- // trạng thái đơn hàng (1: chờ vận chuyển, 2: đang vận chuyển, 3: đã nhận hàng, 4: hủy đơn hàng)
  payment_status int,-- // trạng thái thanh toán (1: chưa thanh toán, 2: thanh toán thành công,3: thanh toán lỗl)
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp  -- // thời gian cập nhật
);
-- // Bảng thông tin chi tiết đơn hàng
create table order_details (
  id int auto_increment primary key,
  order_id int,-- // ID đơn hàng
  store_product_id int,-- // ID sản phẩm của cửa hàng
  quantity int,-- // số lượng mặt hàng order
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
-- // Bảng thông tin ưu đãi
create table promotions (
  id int auto_increment primary key,
  name varchar(255),-- // tên ưu đãi
  start_date datetime,-- // ngày bắt đầu
  end_date datetime,-- // ngày kết thúc
  apply_day varchar(255),-- // ngay ap dung (vd: 2|3: thu 2 va thu 3, 4: thu 4, 7|cn: thu 7 va chu nhat)
  discount int,-- // giảm giá %
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
create table roles (
  id int auto_increment primary key,
  name varchar(255),-- // tên role
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
-- // Bảng danh sách quận, huyện
create table districts (
   id int auto_increment primary key,
  name varchar(255),-- // tên quận, huyện
  city_id int,-- // ID thành phố
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);

-- // Bảng danh sách thành phố
create table cities (
	id int auto_increment primary key,
  name varchar(255),-- // tên thành phố
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
-- // Bảng thông tin đơn vị vận chuyển
create table shipping_units (
  id int auto_increment primary key,
  name varchar(255),-- // tên đơn vị vận chuyển
  address varchar(255),-- // địa chỉ
  phone varchar(11),-- // số điện thoại
  created_at timestamp,-- // thời gian tạo
  updated_at timestamp -- // thời gian cập nhật
);
-- 1
INSERT INTO `cities` (`name`) VALUES ('Hải Phòng');
INSERT INTO `districts` (`name`, `city_id`) VALUES ('Lê Chân', '1');
INSERT INTO `districts` (`name`, `city_id`) VALUES ('Ngô Quyền', '1');
INSERT INTO `stores` (`name`, `district_id`) VALUES ('Lotteria Lê Chân', '1');
INSERT INTO `stores` (`name`, `district_id`) VALUES ('Lotteria Ngô Quyền', '2');
INSERT INTO `shipping_units` (`name`) VALUES ('Aha move');
INSERT INTO `shipping_units` (`name`) VALUES ('Viettel Post');
INSERT INTO `categories` (`name`) VALUES ('Spaghetti');
-- 2
INSERT INTO `thuctap`.`roles` (`name`) VALUES ('manager');
INSERT INTO `users` (`code`, `name`, `role_id`, `store_id`) VALUES ('12345', 'manager', '1', '1');
-- 3
INSERT INTO `products` (`id`,`name`, `description`, `category_id`, `image`, `price`) VALUES ('4','Mỳ ý thịt bò', 'Mỳ + Thịt bò', '1', 'https://image-us.eva.vn/upload/3-2021/images/2021-09-14/nhung-chu-cho-mong-manh-khong-duoc-di-cong-tac-nga-nhe-cung-tui-than-trao-nuoc-mat-5-1631612799-786-width600height487.jpg', '5');
INSERT INTO `products` (`id`,`name`, `description`, `category_id`, `image`, `price`) VALUES ('5','Mỳ ý sốt kem', 'Mỳ + Sốt kem', '1', 'https://image-us.eva.vn/upload/3-2021/images/2021-09-14/nhung-chu-cho-mong-manh-khong-duoc-di-cong-tac-nga-nhe-cung-tui-than-trao-nuoc-mat-5-1631612799-786-width600height487.jpg', '10');
INSERT INTO `products` (`id`,`name`, `description`, `category_id`, `image`, `price`) VALUES ('6','Mỳ ý cua', 'Mỳ + Cua', '1', 'https://image-us.eva.vn/upload/3-2021/images/2021-09-14/nhung-chu-cho-mong-manh-khong-duoc-di-cong-tac-nga-nhe-cung-tui-than-trao-nuoc-mat-5-1631612799-786-width600height487.jpg', '15');
-- 4
INSERT INTO `store_products` (`store_id`, `product_id`) VALUES ('2', '1');
INSERT INTO `store_products` (`store_id`, `product_id`) VALUES ('2', '2');
INSERT INTO `store_products` (`store_id`, `product_id`) VALUES ('2', '3');
-- 5
INSERT INTO `cities` (`name`) VALUES ('Hà Nội');
INSERT INTO `districts` (`name`, `city_id`) VALUES ('Hai Bà Trưng', '2');
INSERT INTO `districts` (`name`, `city_id`) VALUES ('Thanh Xuân', '2');
INSERT INTO `stores` (`id`,`name`, `address`, `district_id`) VALUES ('4','Lotteria Bà Triệu', 'Bà Triệu', '3');
INSERT INTO `stores` (`id`,`name`, `address`, `district_id`) VALUES ('5','Loteria Royal city', 'Royal city', '4');
-- 6
INSERT INTO `customers` (`name`) VALUES ('Meritt Fernandez');
INSERT INTO `shipping_units` (`name`) VALUES ('Giao hàng nhanh');
INSERT INTO `shipping_units` (`name`) VALUES ('Giao hàng tiết kiệm');
INSERT INTO `orders` (`id`, `customer_id`, `shipping_unit_id`, `price`, `payment_method`, `status`, `created_at`) VALUES ('4', '1', '3', '70620', '1', '2', '2021-01-03 12:00:00');
INSERT INTO `orders` (`id`, `customer_id`, `shipping_unit_id`, `price`, `payment_method`, `status`, `created_at`) VALUES ('15', '1', '4', '95110', '2', '2', '2021-01-04 12:00:00');
-- 7
INSERT INTO `categories` (`name`) VALUES ('Burger');
INSERT INTO `categories` (`name`) VALUES ('Gà');
INSERT INTO `products` (`id`, `name`, `category_id`) VALUES ('1', 'Burger bulgogi', '2');
INSERT INTO `products` (`id`, `name`, `category_id`) VALUES ('2', 'Burger tôm', '2');
INSERT INTO `products` (`id`, `name`, `category_id`) VALUES ('3', 'Burger bò', '2');
INSERT INTO `products` (`id`, `name`, `category_id`) VALUES ('7', 'Gà rán', '3');
INSERT INTO `products` (`id`, `name`, `category_id`) VALUES ('8', 'Gà rán cay', '3');
INSERT INTO `districts` (`name`, `city_id`) VALUES ('Cầu Giấy', '2');
INSERT INTO `stores` (`name`, `district_id`) VALUES ('Loteria Cầu Giấy', '5');
INSERT INTO `store_products` (`store_id`, `product_id`, `status`) VALUES ('6', '1', '1');
INSERT INTO `store_products` (`store_id`, `product_id`, `status`) VALUES ('6', '2', '0');
INSERT INTO `store_products` (`store_id`, `product_id`, `status`) VALUES ('6', '3', '1');
INSERT INTO `store_products` (`store_id`, `product_id`, `status`) VALUES ('6', '7', '1');
INSERT INTO `store_products` (`store_id`, `product_id`, `status`) VALUES ('6', '8', '1');
-- 8
INSERT INTO `customers` (`name`, `email`, `phone`, `address`, `birthday`) VALUES ('Josiah Cline', 'mauris@yahoo.com', '8661930889', '8466 Aliquet Ave', '2020-12-29');
-- 9
INSERT INTO `customers` (`id`, `name`, `email`, `phone`, `address`, `birthday`) VALUES ('7', 'Nguyễn Hữu Cường', 'cuongnh2k@gmail.com', '0399985563', 'Bắc Giang', '2000-10-23');
UPDATE `customers` SET `phone` = '0338443113', `address` = 'Phạm Hùng, Nam Từ Liêm, Hà Nội', `birthday` = '2000-03-01' WHERE (`id` = '7');
-- 10
INSERT INTO `promotions` (`id`,`name`, `apply_day`, `discount`) VALUES ('2','Thứ hai nửa giá', '2', '30');
INSERT INTO `orders` (`store_id`, `customer_id`, `promotion_id`, `shipping_unit_id`, `payment_method`) VALUES ('6', '2', '1', '3', '1');
INSERT INTO `categories` (`name`) VALUES ('Nước');
INSERT INTO `categories` (`name`) VALUES ('Cơm');
INSERT INTO `products` (`name`, `category_id`) VALUES ('Pepsi', '4');
INSERT INTO `products` (`name`, `category_id`) VALUES ('Cơm gà chiên', '5');
INSERT INTO `store_products` (`store_id`, `product_id`) VALUES ('6', '9');
INSERT INTO `store_products` (`store_id`, `product_id`) VALUES ('6', '10');
INSERT INTO `order_details` (`order_id`, `store_product_id`, `quantity`) VALUES ('16', '7', '4');
INSERT INTO `order_details` (`order_id`, `store_product_id`, `quantity`) VALUES ('16', '9', '4');
INSERT INTO `order_details` (`order_id`, `store_product_id`, `quantity`) VALUES ('16', '10', '2');
-- 11
UPDATE `orders` SET `status` = '4' WHERE (`id` = '16');
-- 12
INSERT INTO `orders` (`id`, `customer_id`, `price`, `status`, `created_at`) VALUES ('21', '1', '744100', '1', '2021-03-05 12:00:00');
INSERT INTO `orders` (`id`, `customer_id`, `price`, `status`, `created_at`) VALUES ('23', '1', '731720', '3', '2021-03-05 12:00:00');
-- 13
INSERT INTO `promotions` (`id`,`name`, `apply_day`, `discount`) VALUES ('1','Đầu tuần vui vẻ', '2', '20');
-- 14
INSERT INTO `products` (`name`, `category_id`) VALUES ('Burger gà', '2');
INSERT INTO `stores` (`name`, `district_id`) VALUES ('Lotteria Trần Duy Hưng', '4');
INSERT INTO `store_products` (`store_id`, `product_id`) VALUES ('7', '10');
INSERT INTO `store_products` (`store_id`, `product_id`) VALUES ('7', '11');
INSERT INTO `orders` (`store_id`) VALUES ('7');
INSERT INTO `orders` (`store_id`) VALUES ('7');
INSERT INTO `order_details` (`order_id`, `store_product_id`, `quantity`) VALUES ('24', '11', '5');
INSERT INTO `order_details` (`order_id`, `store_product_id`, `quantity`) VALUES ('25', '12', '5');
INSERT INTO `order_details` (`order_id`, `store_product_id`, `quantity`) VALUES ('25', '11', '1');
-- 15
INSERT INTO `customers` (`name`) VALUES ('Clinton Macias');
INSERT INTO `customers` (`name`) VALUES ('Tyler Dawson');
INSERT INTO `customers` (`name`) VALUES ('Hakeem Moore');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '8');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '8');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '8');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '8');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '8');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '9');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '9');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '9');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '9');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '10');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '10');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '10');
INSERT INTO `orders` (`store_id`, `customer_id`) VALUES ('6', '10');
-- 16
INSERT INTO `orders` (`id`, `store_id`, `customer_id`, `price`, `payment_method`, `created_at`) VALUES ('2', '6', '1', '96313', '1', '2021-01-03 12:00:00');
-- 17
INSERT INTO `promotions` (`name`, `apply_day`, `discount`) VALUES ('Giảm 50% thứ năm', '5', '50');
INSERT INTO `promotions` (`name`, `apply_day`, `discount`) VALUES ('Cuối tuần món ngon', '7|cn', '10');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '2');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '4');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '15');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '21');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '23');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '24');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '25');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '26');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '27');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '28');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '29');
UPDATE `orders` SET `promotion_id` = '2' WHERE (`id` = '30');
UPDATE `orders` SET `promotion_id` = '3' WHERE (`id` = '31');
UPDATE `orders` SET `promotion_id` = '3' WHERE (`id` = '32');
UPDATE `orders` SET `promotion_id` = '3' WHERE (`id` = '33');
UPDATE `orders` SET `promotion_id` = '3' WHERE (`id` = '34');
UPDATE `orders` SET `promotion_id` = '3' WHERE (`id` = '35');
-- 18
UPDATE `orders` SET `price` = '999999' WHERE (`id` = '24');
UPDATE `orders` SET `price` = '111111' WHERE (`id` = '25');
INSERT INTO `orders` (`store_id`, `price`) VALUES ('4', '200000');
INSERT INTO `orders` (`store_id`, `price`) VALUES ('5', '10000');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '16');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '24');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '25');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '26');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '27');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '28');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '29');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '30');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '31');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '32');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '33');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '34');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '35');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '36');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '37');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '38');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '39');
UPDATE `orders` SET `created_at` = '2021-01-03 12:00:00' WHERE (`id` = '40');
-- 19
UPDATE `orders` SET `payment_method` = '1' WHERE (`id` = '26');
UPDATE `orders` SET `payment_method` = '2' WHERE (`id` = '27');
UPDATE `orders` SET `payment_method` = '1' WHERE (`id` = '28');
UPDATE `orders` SET `payment_method` = '2' WHERE (`id` = '29');
UPDATE `orders` SET `payment_method` = '1' WHERE (`id` = '30');
UPDATE `orders` SET `payment_method` = '2' WHERE (`id` = '31');
UPDATE `orders` SET `payment_method` = '1' WHERE (`id` = '32');
UPDATE `orders` SET `payment_method` = '2' WHERE (`id` = '33');
UPDATE `orders` SET `payment_method` = '1' WHERE (`id` = '34');
UPDATE `orders` SET `payment_method` = '2' WHERE (`id` = '35');
UPDATE `orders` SET `payment_method` = '1' WHERE (`id` = '36');
UPDATE `orders` SET `payment_method` = '2' WHERE (`id` = '37');
UPDATE `orders` SET `payment_method` = '1' WHERE (`id` = '38');
UPDATE `orders` SET `payment_method` = '2' WHERE (`id` = '39');
UPDATE `orders` SET `payment_method` = '1' WHERE (`id` = '40');
UPDATE `orders` SET `created_at` = '2021-01-04 12:00:00' WHERE (`id` = '26');
UPDATE `orders` SET `created_at` = '2021-01-05 12:00:00' WHERE (`id` = '27');
UPDATE `orders` SET `created_at` = '2021-01-06 12:00:00' WHERE (`id` = '28');
UPDATE `orders` SET `created_at` = '2021-01-07 12:00:00' WHERE (`id` = '29');
UPDATE `orders` SET `created_at` = '2021-01-07 12:00:00' WHERE (`id` = '30');
UPDATE `orders` SET `created_at` = '2021-01-07 12:00:00' WHERE (`id` = '31');
UPDATE `orders` SET `created_at` = '2021-01-07 12:00:00' WHERE (`id` = '32');

